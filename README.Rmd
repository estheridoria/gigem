---
title: "README"
output:
  html_document: default
  pdf_document: default
date: "2024-12-02"
---

{r setup, include=FALSE, cache=FALSE}
knitr::opts_chunk$set(echo = FALSE)


[Github Page](https://github.com/WanheLiLab/)

[Li Lab Page](https://wanheli2022.wixsite.com/wanheli)

Created by Esther Doria, Wanhe Li, & Daniel Nguyen August 2024

Copyright (C) year-range Full Names

Contact: [estheridoria\@gmail.com](mailto:estheridoria@gmail.com){.email}

## Installation

```{Main echo = TRUE}
install.packages("devtools")
library(devtools)
install_github('Wanhelilab/gigem')
library(gigem)
```


## 1. Experimental parameters

Each sub-directory folder should include the "Main.R" description file and its corresponding monitor files.

### 1.1 Monitor specifications

Create a main file, labelling it any combination of letters, numbers, and underscores (_).
```{Main echo = TRUE}
# Title for data analysis.
Title="Insert_Name"
```

You can see the variables `file` `monitor`, and `region_id`. `file` refers to the particular files generated by the Drosophila Activity Monitor (DAM), which should give you a chart of 1s and 0s showing when the animal crossed the infrared laser beam. You can change the number of monitors you want to analyze simply by adding or subtracting the .txt file names to the `file` list. The total number of monitors to be analyzed must be reflected in a matching number of entries throughout the rest of the variables from `file` to `treatment`. This means if you analyze two DAM systems, each variable should have exactly two items in the lists.

The term `each = 32` in the variables signifies that each DAM monitor holds 32 flies. If your monitor holds more or fewer flies, you will need to change this number for each of the variables.

```{Main echo = TRUE}
  file = rep(c("Monitor33.txt", "Monitor17.txt",
               "Monitor39.txt","Monitor35.txt",
               "Monitor55.txt", "Monitor57.txt",
               "Monitor13.txt","Monitor52.txt"), each = 32),
  
  # Monitor identifier
  monitor = rep(c("M33","M17",
                  "M39","M35",
                  "M55","M57",
                  "M13","M52"), each = 32 ),
  
  # Unique identifier for each region, same as number for each
  region_id = 1:32,
```         

### 1.2 OK or notOK Status
 
The standard `status` of each fly is "OK". See section 1.6 to manually change the `status` of certain flies and, consequently, omit them from analysis

```{Main echo = TRUE}
  # Status of the data (e.g., "OK")
  status = "OK",
```

### 1.3 Start/stop points

The `start_datetime` should be the first light-on time-point (as registered by the monitoring computer) after the flies have been loaded into the monitor(s). The `stop_datetime` is the last light-on time-point (plus a few minutes) before removing them from the monitors. Typically, this will be between two to four Zeitgeber cycles (48-96 hours for a typical 24-hour cycle) from the `start_datetime` time-point. Please ensure that the time `stop_datetime` is a few minutes past the light-on time point; this will ensure none of the functions which deal with time are hindered.

```{Main echo = TRUE} 
# Start datetime for monitoring period
  start_datetime = "2019-06-22 10:05:00",
  
  # Stop datetime for monitoring period
  stop_datetime = "2019-06-24 10:20:00",

```         

### 1.4 Organism specifications

Match the temperature, sex and genotype of the flies to their respective monitors as listed above. For example, 

`file` = `Monitor33.txt` correlates to `monitor` = `M33`, `temp` = `21.5C`, `sex` = `M` (for male), `genotype` = `CS` and `treatment` = `Iso_2D`. 

```{Main echo = TRUE}
  # temperature during monitoring
  temp = rep(c("21.5C", "21.5C",
               "21.5C", "21.5C",
               "21.5C", "21.5C",
               "21.5C", "21.5C"), each = 32),

 # Sex of the subject being monitored
  sex = rep(c("M","M",
              "M","M",
              "M","M",
              "M","M"), each = 32),
  
  # all genotypes of the subject being monitored
  genotype = rep(c("CS", "CS", 
                   "SIP-L2-3", "SIP-L2-3",
                   "SIP-L2-4", "SIP-L2-4", 
                   "SIP-L2-5", "SIP-L2-5"), each = 32),
  
```

### 1.5 Experimental treatments

This is where you would specify any experimental treatments for each population such as social isolation, change in diet, sexual deprivation, etc., following the same order as the previous variables.

```{Main echo = TRUE}
# Treatment applied during monitoring period
  treatment = rep(c("Iso_2D","Grp_2D",
                    "Iso_2D","Grp_2D",
                    "Iso_2D","Grp_2D",
                    "Iso_2D","Grp_2D"),each = 32),
...
```         

